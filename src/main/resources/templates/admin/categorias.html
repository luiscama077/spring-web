<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head th:replace="~{fragments/header :: head}"></head>
<body class="bg-gray-900 min-h-screen">
    
    <!-- Navbar -->
    <div th:replace="~{fragments/navbar :: navbar-admin}"></div>

    <div class="flex">
        <!-- Sidebar -->
        <div th:replace="~{fragments/navbar :: sidebar-admin(seccion='categorias')}"></div>

        <!-- Main Content -->
        <main class="flex-1 p-8">
            <div class="max-w-6xl mx-auto">
                
                <!-- Header -->
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h2 class="text-3xl font-bold text-white">Categor√≠as</h2>
                        <p class="text-gray-400 mt-1">Gesti√≥n de categor√≠as de productos</p>
                    </div>
                    <a href="/admin/categorias/nueva" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition">
                        ‚ûï Nueva Categor√≠a
                    </a>
                </div>

                <!-- Mensajes -->
                <div th:if="${mensaje}" 
                     th:classappend="${tipo == 'success' ? 'bg-green-900 border-green-700 text-green-200' : 'bg-red-900 border-red-700 text-red-200'}"
                     class="border px-4 py-3 rounded mb-6">
                    <p th:text="${mensaje}">Mensaje</p>
                </div>

                <!-- Grid de Categor√≠as -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    
                    <div th:if="${categorias.empty}" class="col-span-full">
                        <div class="bg-gray-800 rounded-lg p-12 text-center border border-gray-700">
                            <p class="text-gray-500">No hay categor√≠as registradas</p>
                        </div>
                    </div>

                    <!-- Tarjeta de Categor√≠a -->
                    <div th:each="categoria : ${categorias}" class="bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-blue-600 transition">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="text-xl font-bold text-white mb-2" th:text="${categoria.nombre}">Categor√≠a</h3>
                                <p class="text-gray-400 text-sm" th:text="${categoria.descripcion}">Descripci√≥n</p>
                            </div>
                            <span th:if="${categoria.activo}" class="px-3 py-1 bg-green-900 text-green-200 rounded text-xs font-semibold">
                                Activa
                            </span>
                            <span th:unless="${categoria.activo}" class="px-3 py-1 bg-gray-700 text-gray-400 rounded text-xs font-semibold">
                                Inactiva
                            </span>
                        </div>

                        <div class="text-sm text-gray-400 mb-4">
                            <p>Creada: <span th:text="${#temporals.format(categoria.fechaCreacion, 'dd/MM/yyyy')}">01/01/2025</span></p>
                            <p>ID: <span th:text="${categoria.id}">1</span></p>
                        </div>

                        <!-- Botones de acci√≥n -->
                        <div class="flex space-x-2">
                            <a th:href="@{/admin/categorias/editar/{id}(id=${categoria.id})}" 
                               class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm text-center transition">
                                ‚úèÔ∏è Editar
                            </a>
                            <a th:href="@{/admin/categorias/toggle/{id}(id=${categoria.id})}" 
                               class="bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded text-sm transition">
                                üîÑ
                            </a>
                            <a th:href="@{/admin/categorias/eliminar/{id}(id=${categoria.id})}" 
                               onclick="return confirm('¬øEst√°s seguro de eliminar esta categor√≠a?')"
                               class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm transition">
                                üóëÔ∏è
                            </a>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

</body>
</html>